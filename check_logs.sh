#!/bin/bash
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–æ–≤

echo "üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ —Å–∏—Å—Ç–µ–º—ã"
echo "=========================="
echo ""

# 1. Web UI –ª–æ–≥–∏
if [ -f /tmp/webui.log ]; then
    echo "1Ô∏è‚É£ Web UI –ª–æ–≥–∏ (/tmp/webui.log):"
    echo "   –†–∞–∑–º–µ—Ä: $(ls -lh /tmp/webui.log | awk '{print $5}')"
    echo "   –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏:"
    tail -5 /tmp/webui.log
    echo ""
fi

# 2. Trading Bot –ª–æ–≥–∏
if [ -f /app/logs/trading_bot.log ]; then
    echo "2Ô∏è‚É£ Trading Bot –ª–æ–≥–∏ (/app/logs/trading_bot.log):"
    echo "   –†–∞–∑–º–µ—Ä: $(ls -lh /app/logs/trading_bot.log | awk '{print $5}')"
    echo "   –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏:"
    tail -5 /app/logs/trading_bot.log
    echo ""
fi

# 3. –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
echo "3Ô∏è‚É£ –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ü–µ–Ω (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 10):"
if [ -f /tmp/webui.log ]; then
    grep -E "(–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø|–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è|–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï|—Ü–µ–Ω–∞ –∏–∑ —Å–≤–µ—á–∏)" /tmp/webui.log | tail -10
else
    echo "   –õ–æ–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"
fi
echo ""

# 4. –õ–æ–≥–∏ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π
echo "4Ô∏è‚É£ –õ–æ–≥–∏ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 5):"
if [ -f /tmp/webui.log ]; then
    grep -E "(–ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏|base_exit_price|üéØ –£—Å–ª–æ–≤–∏–µ.*—Å—Ä–∞–±–æ—Ç–∞–ª–æ)" /tmp/webui.log | tail -5
else
    echo "   –õ–æ–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"
fi
echo ""

# 5. –û–±—â–∏–µ –æ—à–∏–±–∫–∏
echo "5Ô∏è‚É£ –û–±—â–∏–µ –æ—à–∏–±–∫–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 5):"
if [ -f /tmp/webui.log ]; then
    grep -i "error\|exception\|traceback" /tmp/webui.log | tail -5
else
    echo "   –õ–æ–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"
fi
echo ""

# 6. –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
echo "üìã –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤:"
echo "   tail -50 /tmp/webui.log                    # –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫"
echo "   tail -f /tmp/webui.log                     # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
echo "   grep '–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø' /tmp/webui.log          # –ü–æ–∏—Å–∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫"
echo "   grep '–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï' /tmp/webui.log          # –ü–æ–∏—Å–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Ü–µ–Ω"
echo "   grep '–ø–æ–∑–∏—Ü–∏–∏ #' /tmp/webui.log | tail -20 # –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π"
