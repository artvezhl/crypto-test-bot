# ðŸ” Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ð¾ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°Ð¼ Ð¸ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸

## ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°

1. ÐŸÑ€Ð¸ Ð²Ñ‹Ð±Ð¾Ñ€Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ð´Ð½Ð¾Ð³Ð¾ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð° (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, SOLUSDT) Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ ÑÐ´ÐµÐ»Ð¾Ðº Ð¸ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ°Ñ… Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°Ð»Ð¸ÑÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ð¾ Ð²ÑÐµÐ¼ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°Ð¼ Ð¸Ð· Ð‘Ð”, Ð° Ð½Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ð¾Ð¼Ñƒ.
2. ÐŸÑ€Ð¸ Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ñ‚Ð°Ð¹Ð¼Ñ„Ñ€ÐµÐ¹Ð¼Ð°Ñ… Ð¸ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ð°Ñ… Ð¿Ð¾ Ð¾Ð´Ð½Ð¾Ð¼Ñƒ Ð¸ Ñ‚Ð¾Ð¼Ñƒ Ð¶Ðµ ÑÐ¸Ð¼Ð²Ð¾Ð»Ñƒ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°Ð»Ð¸ÑÑŒ Ð¾Ð´Ð½Ð¸ Ð¸ Ñ‚Ðµ Ð¶Ðµ ÑÐ´ÐµÐ»ÐºÐ¸, Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸ Ð½Ðµ Ð¼ÐµÐ½ÑÐ»Ð¸ÑÑŒ.

## Ð ÐµÑˆÐµÐ½Ð¸Ðµ

Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð° Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð¿Ð¾ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°Ð¼ Ð¸ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ñƒ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÐµÐ³Ð¾ Ð±ÑÐºÑ‚ÐµÑÑ‚Ð° Ð²Ð¾ Ð²ÑÐµÑ… Ð¼ÐµÑÑ‚Ð°Ñ…:

### 1. Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° ÑÐ´ÐµÐ»Ð¾Ðº (`/api/trades`)
- Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ÑƒÐµÑ‚ ÑÐ´ÐµÐ»ÐºÐ¸ Ð¿Ð¾ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°Ð¼ Ð¸Ð· `last_backtest_engine.symbols`
- Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ÑƒÐµÑ‚ ÑÐ´ÐµÐ»ÐºÐ¸ Ð¿Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸: `created_at >= start_date AND closed_at <= end_date`
- ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÐ´ÐµÐ»ÐºÐ¸ Ð¿Ð¾ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°Ð¼ Ð² Ð¿ÐµÑ€Ð¸Ð¾Ð´Ðµ Ð±ÑÐºÑ‚ÐµÑÑ‚Ð°

### 2. Ð“Ñ€Ð°Ñ„Ð¸Ðº Ñ€Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ PnL (`/api/chart_data/pnl_distribution`)
- Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ÑƒÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð² SQL Ð·Ð°Ð¿Ñ€Ð¾ÑÐµ Ð¿Ð¾ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°Ð¼ Ð¸ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸
- ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÐ´ÐµÐ»ÐºÐ¸ Ð¿Ð¾ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°Ð¼ Ð² Ð¿ÐµÑ€Ð¸Ð¾Ð´Ðµ Ð±ÑÐºÑ‚ÐµÑÑ‚Ð°

### 3. ÐœÐµÑ‚Ñ€Ð¸ÐºÐ¸ Ð±ÑÐºÑ‚ÐµÑÑ‚Ð°
- ÐŸÐµÑ€ÐµÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ñ‹Ñ… ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð² Ð¸ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ð°
- Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ `recalculate_metrics_for_symbols()` Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ ÑÐ´ÐµÐ»ÐºÐ¸ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾ ÑƒÐºÐ°Ð·Ð°Ð½Ð½Ñ‹Ð¼ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°Ð¼ Ð¸ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸
- ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐµÑ‚ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸ Ð² results Ð¿ÐµÑ€ÐµÐ´ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¾Ð¹ Ð½Ð° Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´

### 4. Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ CSV/JSON
- Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ÑƒÐµÑ‚ ÑÐ´ÐµÐ»ÐºÐ¸ Ð¿Ð¾ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°Ð¼ Ð¸ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð¿ÐµÑ€ÐµÐ´ ÑÐºÑÐ¿Ð¾Ñ€Ñ‚Ð¾Ð¼

## ÐšÐ°Ðº ÑÑ‚Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚

1. ÐŸÑ€Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐµ Ð±ÑÐºÑ‚ÐµÑÑ‚Ð°:
   - Ð¡Ð¸Ð¼Ð²Ð¾Ð»Ñ‹ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽÑ‚ÑÑ Ð² `engine.symbols`
   - ÐŸÐµÑ€Ð¸Ð¾Ð´ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ÑÑ Ð² `engine.backtest_start_date` Ð¸ `engine.backtest_end_date`
2. ÐŸÐ¾ÑÐ»Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ð±ÑÐºÑ‚ÐµÑÑ‚Ð°:
   - Ð¡Ð¸Ð¼Ð²Ð¾Ð»Ñ‹ Ð¸ Ð¿ÐµÑ€Ð¸Ð¾Ð´ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽÑ‚ÑÑ Ð² `last_backtest_engine`
   - ÐœÐµÑ‚Ñ€Ð¸ÐºÐ¸ Ð¿ÐµÑ€ÐµÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ ÑÑ‚Ð¸Ñ… ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð² Ð¸ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ð°
3. ÐŸÑ€Ð¸ Ð·Ð°Ð¿Ñ€Ð¾ÑÐµ Ð´Ð°Ð½Ð½Ñ‹Ñ…:
   - API Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ ÑÐ¸Ð¼Ð²Ð¾Ð»Ñ‹ Ð¸ Ð¿ÐµÑ€Ð¸Ð¾Ð´ Ð¸Ð· `last_backtest_engine`
   - Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ÑƒÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ð¾ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°Ð¼ Ð¸ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð² SQL Ð·Ð°Ð¿Ñ€Ð¾ÑÐµ
   - Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ñ‚Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ

## ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ°

ÐŸÐ¾ÑÐ»Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð±ÑÐºÑ‚ÐµÑÑ‚Ð° Ñ Ð¾Ð´Ð½Ð¸Ð¼ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð¼ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, SOLUSDT) Ð¸ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ð¾Ð¼ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, 7 Ð´Ð½ÐµÐ¹):
- âœ… Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° ÑÐ´ÐµÐ»Ð¾Ðº Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÐ´ÐµÐ»ÐºÐ¸ Ð¿Ð¾ SOLUSDT Ð² ÑÑ‚Ð¾Ð¼ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ðµ
- âœ… ÐœÐµÑ‚Ñ€Ð¸ÐºÐ¸ Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ SOLUSDT Ð² ÑÑ‚Ð¾Ð¼ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ðµ
- âœ… Ð“Ñ€Ð°Ñ„Ð¸Ðº PnL Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÐ´ÐµÐ»ÐºÐ¸ Ð¿Ð¾ SOLUSDT Ð² ÑÑ‚Ð¾Ð¼ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ðµ
- âœ… Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÐ´ÐµÐ»ÐºÐ¸ Ð¿Ð¾ SOLUSDT Ð² ÑÑ‚Ð¾Ð¼ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ðµ
- âœ… ÐŸÑ€Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ð° Ð¸Ð»Ð¸ Ñ‚Ð°Ð¹Ð¼Ñ„Ñ€ÐµÐ¹Ð¼Ð° Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ Ñ€Ð°Ð·Ð½Ñ‹Ðµ ÑÐ´ÐµÐ»ÐºÐ¸ Ð¸ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸

## Ð•ÑÐ»Ð¸ ÑÐ´ÐµÐ»Ð¾Ðº Ð½ÐµÑ‚

Ð•ÑÐ»Ð¸ Ð¿Ð¾ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ð¾Ð¼Ñƒ ÑÐ¸Ð¼Ð²Ð¾Ð»Ñƒ Ð² Ð¿ÐµÑ€Ð¸Ð¾Ð´Ðµ Ð½ÐµÑ‚ ÑÐ´ÐµÐ»Ð¾Ðº:
- Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° ÑÐ´ÐµÐ»Ð¾Ðº Ð±ÑƒÐ´ÐµÑ‚ Ð¿ÑƒÑÑ‚Ð¾Ð¹
- ÐœÐµÑ‚Ñ€Ð¸ÐºÐ¸ Ð±ÑƒÐ´ÑƒÑ‚ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ 0 ÑÐ´ÐµÐ»Ð¾Ðº
- Ð“Ñ€Ð°Ñ„Ð¸Ðº PnL Ð±ÑƒÐ´ÐµÑ‚ Ð¿ÑƒÑÑ‚Ñ‹Ð¼
- Ð’ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ Ð¿Ð¾ÑÐ²Ð¸Ñ‚ÑÑ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ: "ÐÐµÑ‚ ÑÐ´ÐµÐ»Ð¾Ðº Ð´Ð»Ñ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²: SOLUSDT"

